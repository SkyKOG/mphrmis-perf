<%- model_class = Performaone -%>
<div class="page-header">
  <h1>Employee Performance Data</h1>
</div>

<p>
  Download:
  <%= link_to "PDF", performaones_path(format: "pdf") , :class => 'btn btn-small btn-success'%> |
  <%= link_to "CSV", performaones_path(format: "csv") , :class => 'btn btn-small btn-success' %> 
</p>
<br>

<table class="table table-bordered">
  <thead>
    <tr>
      
      <th>Employee Name</th>
      <th>Employee Treasuty ID</th>
      <th>Hospital</th>
      <th>Employee Designation</th>
      <th> Leaves Taken</th>
      <th> Patients Checked in OPD</th>
      <th> Patients Admitted</th>
      <th> Patients Admitted to Other Hospitals</th>
      <th> Emergency Calls Attended</th>
      <th> Emergency Duties Performed</th>
      <th> MLC Performed</th>
      <th> Postmortem Done</th>
      <th> Days Present in Court</th>
      <th> Major Operations</th>
      <th> Minor Operations</th>
      <th> Caesarion Operations</th>
      <th> Lab Tests Conducted</th>
      <th> Image Scans Conducted</th>
      <th>Utilisation of Equipment By Self/Instruction</th>
      <th>Information on Availaible Equipment</th>
      <th>Equipment - Deficiency / Necessary Action</th>
      <th>Month</th>
      <th>Year</th>
    </tr>
  </thead>
  <tbody>
    <% @performaones.each do |performaone| %>
      <tr>
        <td><%= performaone.employee.emp_full_name %></td>
        <td><%= performaone.employee.emp_treasury_id %></td>
        <td><%= performaone.try(:hospital).try(:hospital_name) || "Not Entered" %></td>
        <td><%= performaone.try(:designation).try(:Designation_English) || "Not Entered" %></td>
        <td><%= performaone.leave_taken %></td>
        <td><%= performaone.patients_opd %></td>
        <td><%= performaone.patients_admit %></td>
        <td><%= performaone.patients_ref %></td>
        <td><%= performaone.emer_calls %></td>
        <td><%= performaone.emer_duty %></td>
        <td><%= performaone.mlc_perf %></td>
        <td><%= performaone.postmor_perf %></td>
        <td><%= performaone.court_presence %></td>
        <td><%= performaone.op_major %></td>
        <td><%= performaone.op_minor %></td>
        <td><%= performaone.op_caesarion %></td>
        <td><%= performaone.lab_tests %></td>
        <td><%= performaone.image_tests %></td>
        <td><%= performaone.equip %></td>
        <td><%= performaone.equipdetail %></td>
        <td><%= performaone.equipdefic %></td>
        <td><%= performaone.try(:month).try(:month_name) || "Not Entered" %></td>
        <td><%= performaone.try(:year)|| "Not Entered" %></td>
        </tr>
    <% end %>
  </tbody>
</table>


